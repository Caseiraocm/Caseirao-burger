<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caseirão Burger - Pedido Online</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        h1 {
            text-align: center;
            color: #fff;
            background-color: #ff4500;
            padding: 10px;
            border-radius: 8px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        form {
            max-width: 400px;
            margin: auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        label {
            display: block;
            margin-bottom: 5px;
            color: #333333;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #dddddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover {
            background-color: #218838;
        }
        #precoFinal {
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <h1>Faça Seu Pedido - Caseirão Burger</h1>
    <form id="pedidoForm">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required>

        <label for="hamburguer">Escolha seu(s) Hambúrguer(es):</label>
        <select id="hamburguer" name="hamburguer" multiple required onchange="atualizarIngredientes(); calcularPreco();">
            <option value="13|Sujinho - R$ 13">Sujinho - R$ 13</option>
            <option value="15|Pé pra fora - R$ 15">Pé pra fora - R$ 15</option>
            <option value="17|Pobr's - R$ 17">Pobr's - R$ 17</option>
            <option value="20|Demorô - R$ 20">Demorô - R$ 20</option>
            <option value="23|Molecão - R$ 23">Molecão - R$ 23</option>
            <option value="25|Caseirão - R$ 25">Caseirão - R$ 25</option>
            <option value="30|Podrão - R$ 30">Podrão - R$ 30</option>
            <option value="40|Mata fome - R$ 40">Mata fome - R$ 40</option>
            <option value="23|Major - R$ 23">Major - R$ 23</option>
        </select>

        <p id="ingredientes">Selecione um ou mais hambúrgueres para ver os ingredientes.</p>

        <label for="quantidade">Quantidade Total:</label>
        <input type="number" id="quantidade" name="quantidade" min="1" value="1" required onchange="calcularPreco();">

        <label for="observacao">Observações (caso queira mudar algo no pedido):</label>
        <textarea id="observacao" name="observacao" rows="3" placeholder="Exemplo: Sem cebola, adicionar mais queijo"></textarea>

        <label for="tipoEntrega">Tipo de Entrega:</label>
        <select id="tipoEntrega" name="tipoEntrega" required onchange="calcularPreco(); verificarEndereco();">
            <option value="5|Entrega">Entrega - R$ 5,00</option>
            <option value="0|Retirada">Retirada</option>
        </select>

        <label for="endereco">Endereço:</label>
        <input type="text" id="endereco" name="endereco" placeholder="Rua, Bairro, Cidade">

        <label for="numero">Número da Casa:</label>
        <input type="text" id="numero" name="numero" placeholder="Ex: 123">

        <label for="referencia">Ponto de Referência:</label>
        <input type="text" id="referencia" name="referencia" placeholder="Ex: Próximo ao mercado X">

        <label for="pagamento">Forma de Pagamento:</label>
        <select id="pagamento" name="pagamento" required>
            <option value="Dinheiro">Dinheiro</option>
            <option value="Cartão">Cartão</option>
            <option value="Pix">Pix</option>
        </select>

        <label for="troco">Precisa de Troco? (Se sim, para quanto?):</label>
        <input type="text" id="troco" name="troco" placeholder="Ex: Troco para R$ 50,00">

        <div id="precoFinal">Preço Total: R$ 0,00</div>

        <button type="button" onclick="enviarPedido()">Enviar Pedido</button>
    </form>

    <script>
        function atualizarIngredientes() {
            var selectElement = document.getElementById("hamburguer");
            var selectedOptions = Array.from(selectElement.selectedOptions);
            var ingredientesText = "";

            selectedOptions.forEach(option => {
                var hamburguer = option.value.split('|')[1];
                switch(hamburguer) {
                    case "Sujinho - R$ 13":
                        ingredientesText += "Sujinho: Pão, carne, queijo, presunto, verduras e molho da casa.\n";
                        break;
                    case "Pé pra fora - R$ 15":
                        ingredientesText += "Pé pra fora: Pão, carne, queijo, presunto, bacon, alface e molho da casa.\n";
                        break;
                    case "Pobr's - R$ 17":
                        ingredientesText += "Pobr's: Pão, carne, queijo, presunto, cebola caramelizada, bacon, verduras e molho da casa.\n";
                        break;
                    case "Demorô - R$ 20":
                        ingredientesText += "Demorô: Pão, carne, frango desfiado, queijo, cheddar, bacon, ovo, verduras e molho da casa.\n";
                        break;
                    case "Molecão - R$ 23":
                        ingredientesText += "Molecão: Pão, carne, calabresa, cebola caramelizada, queijo, presunto, bacon, verduras e molho da casa.\n";
                        break;
                    case "Caseirão - R$ 25":
                        ingredientesText += "Caseirão: Pão, carne, queijo, presunto, ovo, bacon, calabresa, batata palha, verduras e molho da casa.\n";
                        break;
                    case "Podrão - R$ 30":
                        ingredientesText += "Podrão: Pão, 2 carnes, queijo, presunto, ovo, bacon, calabresa, verduras e molho da casa.\n";
                        break;
                    case "Mata fome - R$ 40":
                        ingredientesText += "Mata fome: Pão, 3 carnes, bacon, ovo, queijo, presunto, cheddar e molho da casa.\n";
                        break;
                    case "Major - R$ 23":
                        ingredientesText += "Major: Pão, carne, filé de frango, molho barbecue, calabresa, queijo, verduras e molho da casa.\n";
                        break;
                }
            });

            document.getElementById("ingredientes").textContent = ingredientesText.trim() || "Selecione um ou mais hambúrgueres para ver os ingredientes.";
        }

        function calcularPreco() {
            var selectElement = document.getElementById("hamburguer");
            var selectedOptions = Array.from(selectElement.selectedOptions);
            var total = 0;

            selectedOptions.forEach(option => {
                var hamburguerValor = parseFloat(option.value.split('|')[0]);
                total += hamburguerValor;
            });

            var quantidade = parseInt(document.getElementById("quantidade").value);
            var entregaValor = parseFloat(document.getElementById("tipoEntrega").value.split('|')[0]);
total = (total * quantidade) + entregaValor;

            document.getElementById("precoFinal").textContent = "Preço Total: R$ " + total.toFixed(2);
        }

        function enviarPedido() {
            var nome = document.getElementById("nome").value || "Não informado";
            var hamburgueres = Array.from(document.getElementById("hamburguer").selectedOptions);
            var quantidade = document.getElementById("quantidade").value;
            var observacao = document.getElementById("observacao").value || "Nenhuma";
            var tipoEntrega = document.getElementById("tipoEntrega").value.split('|')[1];
            var endereco = tipoEntrega === "Entrega" ? document.getElementById("endereco").value : "Retirada no local";
            var numero = document.getElementById("numero").value || "S/N";
            var referencia = document.getElementById("referencia").value || "Nenhuma";
            var pagamento = document.getElementById("pagamento").value;
            var troco = document.getElementById("troco").value || "Não precisa";
            var precoFinal = document.getElementById("precoFinal").textContent.replace("Preço Total: ", "");

            var mensagem = `*Pedido Caseirão Burger*\n` +
                           `--------------------------------------------\n` +
                           `*Nome:* ${nome}\n`;

            hamburgueres.forEach((option, index) => {
                var hamburguer = option.value.split('|')[1];
                var ingredientes = document.getElementById("ingredientes").textContent;

                mensagem += `*Hambúrguer ${index + 1}:* ${hamburguer}\n` +
                            `*Ingredientes:* ${ingredientes.split('\n')[index]}\n` +
                            `--------------------------------------------\n`;
            });

            mensagem += `*Quantidade Total:* ${quantidade}\n` +
                        `*Observações:* ${observacao}\n` +
                        `--------------------------------------------\n` +
                        `*Tipo de Entrega:* ${tipoEntrega}\n` +
                        `*Endereço:* ${endereco}, Nº ${numero}\n` +
                        `*Ponto de Referência:* ${referencia}\n` +
                        `--------------------------------------------\n` +
                        `*Forma de Pagamento:* ${pagamento}\n` +
                        `*Troco:* ${troco}\n` +
                        `--------------------------------------------\n` +
                        `*Preço Total:* ${precoFinal}`;

            var url = `https://wa.me/5586995033988?text=${encodeURIComponent(mensagem)}`;
            window.open(url, '_blank');
        }

        function verificarEndereco() {
            var tipoEntrega = document.getElementById("tipoEntrega").value.split('|')[1];
            var enderecoField = document.getElementById("endereco");
            var numeroField = document.getElementById("numero");

            if (tipoEntrega === "Entrega") {
                enderecoField.setAttribute("required", "required");
                numeroField.setAttribute("required", "required");
            } else {
                enderecoField.removeAttribute("required");
                numeroField.removeAttribute("required");
            }
        }

        // Chamada inicial para verificar a necessidade de endereço
        verificarEndereco();
    </script>
</body>
</html>
            
